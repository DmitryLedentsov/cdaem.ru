jQuery(function(){$("#form-profile").formApi({fields:["_csrf","Profile[name]","Profile[surname]","Profile[second_name]","Profile[about_me]","Profile[user_type]","Profile[phone2]","Profile[email]","Profile[skype]","Profile[ok]","Profile[vk]","Profile[fb]","Profile[twitter]","Profile[legal_person]","Profile[image]"],extraSubmitFields:{submit:"submit"},validateFields:["profile-name","profile-surname","profile-second_name","profile-about_me","profile-user_type","profile-phone2","profile-email","profile-skype","profile-ok","profile-vk","profile-fb","profile-twitter","profile-legal_person","profile-image"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#form-password").formApi({fields:["_csrf","PasswordForm[oldpassword]","PasswordForm[password]","PasswordForm[repassword]"],extraSubmitFields:{submit:"submit"},validateFields:["passwordform-oldpassword","passwordform-password","passwordform-repassword"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#form-signup").formApi({fields:["_csrf","User[email]","User[phone]","User[password]","User[repassword]","User[agreement]","Profile[user_type]","Profile[name]","Profile[surname]","Profile[second_name]","Profile[whau]","Profile[advertising]"],extraSubmitFields:{submit:"submit"},validateFields:["user-email","user-phone","user-password","user-repassword","user-agreement","profile-user_type","profile-name","profile-surname","profile-second_name","profile-whau","profile-advertising"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#form-signin").formApi({fields:["_csrf","LoginForm[username]","LoginForm[password]","LoginForm[rememberMe]"],extraSubmitFields:{submit:"submit"},validateFields:["loginform-username","loginform-password","loginform-rememberme"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#form-resend").formApi({fields:["_csrf","ResendForm[email]"],extraSubmitFields:{submit:"submit"},validateFields:["resendform-email"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#form-recovery").formApi({fields:["_csrf","RecoveryForm[email]"],extraSubmitFields:{submit:"submit"},validateFields:["recoveryform-email"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#form-recovery-confirmation").formApi({fields:["_csrf","RecoveryConfirmationForm[password]","RecoveryConfirmationForm[repassword]"],extraSubmitFields:{submit:"submit"},validateFields:["recoveryconfirmationform-password","recoveryconfirmationform-repassword"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#form-legal-person").formApi({fields:["_csrf","LegalPerson[name]","LegalPerson[formattedRegisterDate]","LegalPerson[INN]","LegalPerson[PPC]","LegalPerson[account]","LegalPerson[bank]","LegalPerson[KS]","LegalPerson[BIK]","LegalPerson[BIN]","LegalPerson[legal_address]","LegalPerson[physical_address]","LegalPerson[director]","LegalPerson[description]"],extraSubmitFields:{submit:"submit"},validateFields:["legalperson-name","legalperson-formattedRegisterDate","legalperson-inn","legalperson-ppc","legalperson-account","legalperson-bank","legalperson-ks","legalperson-bik","legalperson-bin","legalperson-legal_address","legalperson-physical_address","legalperson-director","legalperson-description"],success:function(e,s){$.isPlainObject(s)&&"status"in s&&(1==s.status?showStackInfo("Информация",s.message):showStackError("Ошибка",s.message))}}),$("#profile-image").bind("change",function(e){var s,r,o,i;window.FileReader&&((s=$("#form-profile").data("formApi")).clearFiles(),$("#image-preview").html(""),r=document.getElementById("profile-image").files,(o={})["Profile[image]"]=r[0],s.addFile(o),(i=new FileReader).onloadend=function(e){$("#image-preview").append("<div data-id='Profile[image]''><img src='"+i.result+"' alt='' /></div>")},i.readAsDataURL(r[0]))}),$("#image-preview").bind("click",function(e){e.preventDefault(),$("#profile-image").val("");var s=e.target,r=$("#form-profile").data("formApi");if("IMG"==s.tagName){var o=$(s);if("default"==o.data("type"))return!1;r.removeFile(o.parent().data("id")),o.parent().remove()}})}),$(document).ready(function(){$("#country").on("change","",function(e){"Russia"==$("#country option:selected").text()&&$("#phone").inputmask("+79999999999"),"Ukraine"==$("#country option:selected").text()&&$("#phone").inputmask("+380999999999"),"Belarus"==$("#country option:selected").text()&&$("#phone").inputmask("+375999999999")})});